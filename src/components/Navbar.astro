---
import Container from "./Container.astro";

const menu = [
    {
        label: "Home",
        href: "/",
    },
    {
        label: "Consulting",
        href: "/consulting",
    },
];
---

<Container class="py-4 lg:py-6">
    <nav>
        <div class="flex flex-wrap justify-between md:gap-10 md:flex-nowrap">
            <div class="flex items-center justify-between w-full md:w-auto">
                <a href="/">
                    <img src="/logo-dark.png" alt="Kamil Marut" width="48" />
                </a>
                <button
                    id="menuToggle"
                    aria-label="Toggle Menu"
                    class="px-2 py-1 ml-auto rounded-md md:hidden focus:text-blue-500 focus:outline-none text-gray-300"
                >
                    <svg
                        id="menuIcon"
                        class="w-6 h-6 fill-current"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                    >
                        <path
                            fill-rule="evenodd"
                            d="M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"
                        ></path>
                    </svg>
                </button>
            </div>
            <div
                id="menuItems"
                class="flex-col items-center justify-start order-1 hidden w-full md:flex md:flex-row md:justify-end md:w-auto md:flex-1 md:order-none"
            >
                {
                    menu.map((item, index) => (
                        <a
                            href={item.href}
                            class="px-5 py-2 text-sm font-medium text-gray-400 hover:text-primary"
                        >
                            {item.label}
                        </a>
                    ))
                }
            </div>
        </div>
    </nav>
</Container>

<script>
    let menuOpen = false;

    function toggleMenu() {
        menuOpen = !menuOpen;
        const menuItems = document.getElementById("menuItems");
        menuItems!.style.display = menuOpen ? "flex" : "none";
        const icon = document.getElementById("menuIcon");
        icon!.innerHTML = menuOpen
            ? `<path fillRule="evenodd" clipRule="evenodd" d="M18.278 16.864a1 1 0 0 1-1.414 1.414l-4.829-4.828-4.828 4.828a1 1 0 0 1-1.414-1.414l4.828-4.829-4.828-4.828a1 1 0 0 1 1.414-1.414l4.829 4.828 4.828-4.828a1 1 0 1 1 1.414 1.414l-4.828 4.829 4.828 4.828z"/>`
            : `<path fillRule="evenodd" d="M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"/>`;
    }

    const menuToggle = document.getElementById("menuToggle");
    menuToggle!.addEventListener("click", toggleMenu);
</script>
